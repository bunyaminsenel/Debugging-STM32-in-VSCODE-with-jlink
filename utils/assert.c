/************************************************************************
 *
* FILENAME: 	assert.c
* DATE: 		17.03.2022
* DESCRIPTION: 	Assert library
* AUTHOR: 		Embedded Systems Adam Bodurka
*
************************************************************************/

/************************************************************************
 *
 * INCLUDES
 *
************************************************************************/
#include <stdint.h>
#include "SEGGER_RTT.h"
#include "stm32_assert.h"
//#include "led.h"
/************************************************************************
 *
 * DEFINES AND MACROS
 *
************************************************************************/


/************************************************************************
 *
 * STATIC VARIABLES
 *
************************************************************************/


/************************************************************************
 *
 * STATIC FUNCTIONS DECLARATIONS
 *
************************************************************************/

/************************************************************************
 *
 * FUNCTIONS
 *
************************************************************************/


/************************************************************************
*
* FUNCTION: 	assert_failed
*
************************************************************************/
#ifdef  USE_FULL_ASSERT
void assert_failed(uint8_t *file, uint32_t line)
{
  Led_On(LED_3, LED_COLOR_RED);
  SEGGER_RTT_printf(0, "Assert: %s:%d\r\n", file, line);
  while(1);
}
#endif 